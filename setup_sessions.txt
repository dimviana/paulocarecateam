#!/bin/bash

# ==============================================================================
# Script de Configuração de Ambiente (Sessions via MySQL Manual)
# ==============================================================================
# A implementação de sessões foi refatorada para usar a biblioteca 'mysql2'
# que já está instalada no seu projeto, evitando erros de dependências.
#
# Portanto, NÃO é necessário instalar pacotes extras de sessão.
# Este script apenas garante que seu sistema esteja atualizado.
# ==============================================================================

echo "--- [1/2] Atualizando repositórios do sistema ---"
sudo apt-get update -y

echo "--- [2/2] Verificando ambiente ---"
echo "O backend foi configurado para usar gestão manual de sessões."
echo "Nenhuma dependência npm adicional é necessária."
echo ""
echo "IMPORTANTE: Para aplicar as correções de roteamento e sessão:"
echo "1. Certifique-se de que o arquivo server.js foi atualizado."
echo "2. Reinicie o servidor backend com o comando abaixo:"
echo "   pm2 restart jiujitsu-hub-backend"
